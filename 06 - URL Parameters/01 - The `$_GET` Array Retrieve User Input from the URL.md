### **1. Основная концепция: Передача параметров через URL**

**Что говорит автор:**

- Можно добавлять параметры в URL после знака `?`
- Формат: `имя_параметра=значение`
- Пример: `file.php?book=Harry%20Potter`

**Что происходит внутри PHP:**

1. Когда браузер запрашивает URL с параметрами:
   ```
   GET /file.php?book=Harry%20Potter HTTP/1.1
   Host: example.com
   ```
2. Веб-сервер (Apache/Nginx) передаёт строку запроса (`book=Harry%20Potter`) интерпретатору PHP
3. PHP автоматически парсит строку запроса и помещает параметры в **суперглобальный массив `$_GET`**

---

### **2. Суперглобальный массив `$_GET`**

**Что говорит автор:**

- Это ассоциативный массив с параметрами из URL
- Всегда существует (даже если параметров нет)
- Регистрозависим: пишется как `$_GET` (все буквы заглавные)

**Технические детали:**

- `$_GET` - **суперглобальный массив**, доступен в любом месте скрипта без объявления `global`
- Автоматически создаётся PHP при старте скрипта
- Данные хранятся в формате:
  ```php
  $_GET = [
    "book" => "Harry Potter",
    "author" => "J.R.R. Tolkien"
  ];
  ```
- **Декодирование URL**: PHP автоматически преобразует `%20` в пробелы, `%2B` в `+` и т.д.

---

### **3. Работа с параметрами в коде**

**Пример из текста:**

```php
<?php
if (!empty($_GET['book'])) {
    echo '<h1>' . $_GET['book'] . '</h1>';
}
?>
```

**Что происходит внутри PHP:**

1. `empty($_GET['book'])` проверяет:
   - Существует ли ключ `book` в `$_GET`
   - Не является ли значение `null`, пустой строкой или `false`
2. При выводе `$_GET['book']`:
   - PHP ищет ключ `book` в хеш-таблице массива `$_GET`
   - Возвращает строку "Harry Potter"
   - Строка конкатенируется с HTML-тегами
   - Результат: `<h1>Harry Potter</h1>`

---

### **4. Передача нескольких параметров**

**Синтаксис:**

```
file.php?param1=value1&param2=value2&param3=value3
```

- `?` - начало строки запроса
- `&` - разделитель параметров
- Пример: `file.php?book=LOTR&author=Tolkien`

**Внутри PHP:**

```php
$_GET = [
    "book" => "LOTR",
    "author" => "Tolkien"
];
```

---

### **5. Особенности и важные нюансы**

**a. Безопасность данных**

- **Критически важно**: Данные в `$_GET` приходят от пользователя и могут быть опасны!
- Всегда санируйте данные перед использованием:

  ```php
  // Плохо (уязвимо для XSS):
  echo $_GET['book'];

  // Хорошо:
  echo htmlspecialchars($_GET['book']);
  ```

**b. Кодирование URL**

- Спецсимволы кодируются автоматически:
  ```php
  // В URL:   file.php?title=Hello%20World%21
  // В PHP:   $_GET['title'] = "Hello World!";
  ```
- Для ручного кодирования используйте `urlencode()`:
  ```php
  $link = "file.php?title=" . urlencode("Привет, мир!");
  ```

**c. Ограничения**

- Максимальная длина URL ~2048 символов (зависит от браузера/сервера)
- Не использовать для конфиденциальных данных (пароли, платежи)
- Не для передачи бинарных данных

**d. Разница между `isset()` и `empty()`**

```php
// Параметр существует, но может быть пустым:
if (isset($_GET['book'])) { ... }

// Параметр существует и не пуст:
if (!empty($_GET['book'])) { ... }
```

---

### **6. Практическое применение**

**Сценарии использования:**

- Фильтрация данных (сортировка товаров)
- Пагинация (`page=2`)
- Поисковые запросы (`q=search+term`)
- Передача идентификаторов (`product_id=123`)

**Как создать ссылку с параметрами:**

```html
<!-- Статическая ссылка -->
<a href="catalog.php?category=books&sort=price">Книги</a>

<!-- Динамическая генерация в PHP -->
<?php
$category = "books";
$sort = "price";
echo "<a href='catalog.php?category=$category&sort=$sort'>Ссылка</a>";
?>
```

---

### **7. Что будет в следующей лекции?**

Автор упоминает, что расскажет:

- Как динамически генерировать ссылки с параметрами
- Техники безопасной передачи данных
- Возможно, работу с `http_build_query()`:
  ```php
  $params = ["category" => "books", "sort" => "price"];
  $url = "catalog.php?" . http_build_query($params);
  // Результат: catalog.php?category=books&sort=price
  ```

---

### **Визуализация процесса**

```
Браузер
  │
  │ Запрос: GET /file.php?book=Harry+Potter
  ▼
Веб-сервер
  │
  │ Передача строки запроса PHP
  ▼
Интерпретатор PHP
  │
  │ Создаёт массив $_GET = ["book" => "Harry Potter"]
  │
  │ Выполняет ваш скрипт:
  │   if (!empty($_GET['book'])) { ... }
  ▼
Вывод в браузер: <h1>Harry Potter</h1>
```

Теперь вы понимаете:

1. Как передавать параметры через URL
2. Как PHP обрабатывает их автоматически
3. Как безопасно работать с `$_GET`
4. Основные ограничения и лучшие практики
