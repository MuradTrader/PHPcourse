### 1. **Проблема: Фильтрация элементов в цикле**

**Текст автора:**

> _"Нужно пропустить вывод категорий 'Business' и 'Art and Drawing'. Можно использовать вложенные условия, но это громоздко"_

**Исходный подход:**

```php
foreach ($categories as $category) {
    if ($category !== 'Business' && $category !== 'Art and Drawing') {
        var_dump($category);
    }
}
```

**Проблемы:**

- Усложняется при добавлении новых условий
- Основная логика оборачивается в if, что снижает читаемость
- Неудобно для сложных сценариев

---

### 2. **Ключевое слово `continue`**

**Текст автора:**

> _"continue позволяет пропустить текущую итерацию цикла и перейти к следующему элементу"_

**Оптимальное решение:**

```php
foreach ($categories as $category) {
    if ($category === 'Business' || $category === 'Art and Drawing') {
        continue; // Пропустить эту итерацию
    }
    var_dump($category);
}
```

**Что происходит внутри:**

1. При встрече `continue`:
   - PHP немедленно прекращает выполнение **текущей итерации**
   - Переходит к обработке **следующего элемента** массива
   - Сбрасывает внутренний указатель цикла
2. Код после `continue` в текущей итерации не выполняется
3. Работает на уровне **опкода** `ZEND_CONTINUE`

**Особенности:**

- Можно использовать с числовым аргументом `continue 2` для пропуска вложенных циклов
- Не влияет на внешние циклы при вложенности

---

### 3. **Ключевое слово `break`**

**Текст автора:**

> _"break полностью прерывает выполнение цикла при встрече определенного условия"_

**Пример использования:**

```php
foreach ($categories as $category) {
    if ($category === 'Self-Improvement') {
        break; // Полностью прервать цикл
    }
    echo $category;
}
```

**Что происходит внутри:**

1. При выполнении `break`:
   - PHP немедленно **выходит из всего цикла**
   - Передает управление коду после цикла
   - Освобождает ресурсы, связанные с итерацией
2. Генерируется **опкод** `ZEND_BREAK`
3. Указатель массива не сохраняется

**Важное замечание:**

> _"Код до break выполняется полностью. Например, если перед break стоит echo, он отработает"_

---

### 4. **Комбинирование break и continue**

**Сложный пример из урока:**

```php
foreach ($categories as $category) {
    echo $category; // Этот код выполнится ДО break/continue

    if ($category === 'Business' || $category === 'Art and Drawing') {
        continue;
    }

    if ($category === 'Self-Improvement') {
        break;
    }

    var_dump($category); // Этот код может не выполниться
}
```

**Порядок выполнения:**

1. Для 'Programming':
   - Выполняется echo
   - Условия continue/break не срабатывают
   - Выполняется var_dump
2. Для 'Business':
   - Выполняется echo
   - Срабатывает continue → пропускается var_dump
3. Для 'Self-Improvement':
   - Выполняется echo
   - Срабатывает break → цикл полностью прерывается

---

### 5. **Использование в альтернативном синтаксисе**

**Текст автора:**

> _"break и continue работают с альтернативным синтаксисом для HTML-генерации"_

**Пример:**

```php
<ul>
<?php foreach ($categories as $category): ?>
    <?php if ($category === 'Business') continue; ?>
    <li><?= $category ?></li>
<?php endforeach; ?>
</ul>
```

**Особенности:**

- `continue` должен быть внутри `<?php ?>` тегов
- Можно использовать компактную запись без фигурных скобок

---

### 6. **Внутренняя механика работы**

**Как PHP обрабатывает управление циклами:**

1. **Таблица переходов (jump table):**

   - Для каждого break/continue создается запись в таблице
   - Указывает адрес перехода (следующая итерация или конец цикла)

2. **Стек выполнения:**

   ```c
   // Псевдокод обработчика Zend Engine
   while (1) {
       // Получение текущего элемента
       if (opcode == ZEND_CONTINUE) {
           goto continue_target;
       }
       if (opcode == ZEND_BREAK) {
           goto break_target;
       }
       // Выполнение кода
   }
   continue_target:
   break_target:
   ```

3. **Управление памятью:**
   - При break все локальные переменные итерации уничтожаются
   - Указатель массива сбрасывается

---

### 7. **Практические рекомендации**

**Когда использовать:**
| **Ситуация** | **Инструмент** | **Пример** |
|----------------------------|----------------|--------------------------------------------|
| Пропуск одного элемента | `continue` | `if ($item === 'skip') continue;` |
| Пропуск нескольких условий | `continue` | Использование `OR` в условии |
| Досрочное прерывание | `break` | Нашли искомое значение - выходим из цикла |
| Ошибка/критичное условие | `break` | Некорректные данные - прерываем обработку |

**Лучшие практики:**

1. Всегда используйте фигурные скобки для сложных условий
2. Комментируйте сложные условия пропуска/прерывания
3. Для сложной логики выносите условия в отдельные функции:

   ```php
   function shouldSkip($item) {
       return $item === 'Business' || $item === 'Art and Drawing';
   }

   foreach ($items as $item) {
       if (shouldSkip($item)) continue;
       // ...
   }
   ```

---

### 8. **Производительность и оптимизация**

1. **`continue` vs вложенные if:**

   - Нет значимой разницы в производительности
   - `continue` улучшает читаемость кода

2. **`break` для оптимизации:**

   - Экономит ресурсы при обработке больших массивов
   - Особенно полезно при поиске первого совпадения

3. **Статистика:**
   - Обработка `break/continue` занимает 1-2 машинных такта
   - Влияние на производительность цикла минимально

---

### Итоговый код из урока

```php
$categories = ['Programming', 'Business', 'Art and Drawing', 'Self-Improvement'];

foreach ($categories as $category) {
    // Пропускаем Business и Art and Drawing
    if ($category === 'Business' || $category === 'Art and Drawing') {
        continue;
    }

    echo "Processing: $category\n";

    // Прерываем цикл при встрече Self-Improvement
    if ($category === 'Self-Improvement') {
        break;
    }

    var_dump($category);
}
```

**Ключевые выводы:**

1. `continue` - пропуск текущей итерации
2. `break` - полное прерывание цикла
3. Оба работают одинаково во всех типах циклов
4. Особенно полезны при работе с большими массивами
5. Могут использоваться в HTML-шаблонах
