### **1. Цель использования `include`**

- **Проблема:** В веб-разработке часто разные страницы сайта имеют одинаковую структуру (HTML-каркас: `<head>`, меню, футер), но разное основное содержимое.

- **Решение:** Вынести повторяющиеся части в отдельные файлы и "включать" их в нужных местах основной страницы.

- **Преимущества:**

- **Устранение дублирования:** Изменения в шапке/футере делаются в одном файле, а не на всех страницах.

- **Чистота кода:** Логическое разделение кода на компоненты.

- **Удобство сопровождения:** Легче находить и править код.

---

### **2. Синтаксис команды `include`**

- **Основная команда:** `include 'filename.ext';`

- **Место использования:** Внутри PHP-блока (`<?php ... ?>`).

- **Как работает:**

1.  При выполнении PHP-скрипта доходит до строки с `include`.

2.  PHP **прерывает** выполнение текущего файла.

3.  PHP **находит** указанный файл (`filename.ext`).

4.  PHP **выполняет** весь код в этом файле (как если бы он был вставлен в это место).

5.  После выполнения включенного файла PHP **возвращается** к исходному файлу и продолжает выполнение.

- **Пути к файлам:**

- **Относительные:** `include 'folder/file.php';` (относительно текущего файла).

- **Абсолютные (лучше избегать):** `include '/var/www/site/folder/file.php';` (зависит от сервера).

- **Текущая папка:** Если файл в той же папке, что и скрипт, достаточно имени: `include 'file.php';`.

---

### **3. Практический пример: Включение файла**

#### Шаг 1: Создаем главный файл (`start.php`)

```php

<?php

include 'other.php'; // Пытаемся включить файл other.php

?>

```

- **Что ожидается:** PHP найдет `other.php`, выполнит его код и вставит результат в `start.php`.

#### Шаг 2: Ошибка - файл не найден

- **Ситуация:** Если файл `other.php` **не существует**, PHP выдаст **Warning** (предупреждение):

```

Warning: include(other.php): Failed to open stream: No such file or directory in /path/to/start.php on line 2

Warning: include(): Failed opening 'other.php' for inclusion (include_path='...') in /path/to/start.php on line 2

```

- **Важно:**

- Это **не** фатальная ошибка (Fatal Error). Скрипт продолжит выполнение (если есть код после `include`).

- Автор подчеркивает: **ошибки — это нормально** при разработке. Отладка — значительная часть работы.

#### Шаг 3: Создаем включаемый файл (`other.php`)

```php

Я - содержимое файла other.php!

```

- **Важно:** Даже без PHP-тегов, весь текст в файле будет выведен как есть (как если бы он был написано прямо в `start.php`).

#### Шаг 4: Успешное включение

- **Результат в браузере при запросе `start.php`:**

```

Я - содержимое файла other.php!

```

- **Как обрабатывается `other.php`:**

- PHP видит, что файл не содержит тегов `<?php ... ?>`.

- Он интерпретирует весь файл как "сырой" вывод (plain text/HTML) и отправляет его в буфер вывода.

---

### **4. Важные нюансы включения файлов**

#### a) Расширение файла не имеет значения (но практика важна!)

- **Пример:** Можно включить файл с расширением `.txt`:

```php

include 'other.txt'; // Работает, если other.txt существует

```

- **Содержимое `other.txt`:**

```php

<?php echo rand(1, 6); ?>

```

- **Что произойдет:**

- При запросе `start.php` PHP включит `other.txt`.

- PHP **выполнит** код внутри `<?php ... ?>` в `other.txt` (сгенерирует случайное число).

- Результат (число) будет выведено в месте включения.

- **Почему это работает?** PHP обрабатывает **любой** файл, включенный командой `include` (или `require`), как PHP-скрипт, независимо от расширения. Если в файле есть PHP-теги, код внутри них выполнится.

- **Практика:** Всегда используйте расширение `.php` для файлов, содержащих PHP-код (даже если они включаются). Это:

- Понятно для разработчиков.

- Защищает от прямого доступа (если файл `.php` содержит критическую логику, его нельзя открыть в браузере без выполнения кода).

#### b) Комментарии в PHP

- **Однострочный комментарий:** `// ...текст...`

```php

include 'other.php'; // Это комментарий, PHP проигнорирует всё после "//"

```

- **Многострочный комментарий:** `/* ...текст... */`

```php

/*

Это многострочный комментарий.

Всё внутри него игнорируется PHP.

*/

include 'other.php';

```

- **Зачем:** Объяснение кода, временное отключение участков кода (как в примере автора с `other.txt`).

---

### **5. Построение базовой структуры сайта**

Автор предлагает улучшить `start.php`, добавив полноценную HTML-структуру, а основное содержимое выносить во включаемые файлы.

#### Шаблон `start.php`:

```php

<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Мой Сайт</title>

</head>

<body>

<header>

<h1>Мой Ресторан</h1>

</header>

<main>

<?php include 'content.php'; // Вставляем ДИНАМИЧЕСКОЕ содержимое ?>

</main>

<footer>

<p>&copy; <?php echo date('Y'); ?> Мой Ресторан</p>

</footer>

</body>

</html>

```

#### Файл `content.php` (пример):

```php

<section>

<h2>Добро пожаловать!</h2>

<p>Это главная страница нашего ресторана.</p>

<p>Сегодняшнее специальное предложение: блюдо №<?php echo rand(1, 10); ?></p>

</section>

```

#### Что получит браузер:

```html
<!DOCTYPE html>

<html lang="en">
  <head>
    ...
  </head>

  <body>
    <header>...</header>

    <main>
      <section>
        <h2>Добро пожаловать!</h2>

        <p>Это главная страница нашего ресторана.</p>

        <p>Сегодняшнее специальное предложение: блюдо №7</p>
        <!-- Число случайно! -->
      </section>
    </main>

    <footer>...</footer>
  </body>
</html>
```

#### Ключевые моменты:

1.  **Разделение ответственности:**

- `start.php`: Общая структура HTML-страницы (шапка, основная область, подвал).

- `content.php`: Уникальное содержимое конкретной страницы.

2.  **Динамика:** В `content.php` можно использовать любой PHP-код (например, `rand()`), чтобы содержимое менялось.

3.  **Масштабируемость:** Для новой страницы (например, `menu.php`) создаем новый файл с контентом и меняем в `start.php` только строку включения на `include 'menu.php';` (или создаем копию `start.php` с другим включаемым файлом).

4.  **Гибкость:** В шапке (`<header>`) или подвале (`<footer>`) тоже можно использовать `include` для сложных компонентов (навигация, соцсети).

---
