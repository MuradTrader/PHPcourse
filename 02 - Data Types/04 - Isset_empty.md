### 1. Основная проблема: Проверка состояния переменной

**Проблема:** В PHP переменные могут:

- Существовать и содержать значение (`$pageTitle = "PHP is amazing"`)
- Существовать, но быть пустыми (`$pageTitle = ""`)
- Не существовать вообще (если не объявлены)

**Решение:** PHP предоставляет две конструкции для проверки:

- `isset()` - проверяет существование
- `empty()` - проверяет на "пустоту"

---

### 2. Функция isset()

**Что делает:**  
Проверяет, существует ли переменная и не равна ли она `null`.

**Как работает под капотом:**

1. PHP проверяет таблицу символов (символьную таблицу) текущей области видимости
2. Возвращает `true`, если:
   - Переменная объявлена
   - Ей присвоено любое значение, кроме `null`
3. **Не генерирует warning**, даже если переменной не существует (это языковая конструкция, а не обычная функция)

**Примеры:**

```php
$pageTitle = "PHP is amazing";
var_dump(isset($pageTitle)); // bool(true)

unset($pageTitle);
var_dump(isset($pageTitle)); // bool(false)
```

**Практическое применение:**

```php
if (isset($pageTitle)) {
    echo "<h1>$pageTitle</h1>";
}
```

- Предотвращает ошибку "Undefined variable"
- Выводит HTML только если переменная существует

---

### 3. Функция empty()

**Что делает:**  
Проверяет, считается ли переменная "пустой".

**Как работает под капотом:**

1. Проверяет существование переменной (как isset())
2. Если переменная существует, проверяет ее значение на эквивалентность `false`:
   - `""` (пустая строка)
   - `0`, `"0"` (ноль как число или строка)
   - `null`
   - `false`
   - `[]` (пустой массив)
   - Необъявленная переменная
3. Возвращает `true`, если значение "пустое"

**Важная особенность:**  
`empty()` включает в себя проверку `isset()`, поэтому **не вызывает предупреждений** для несуществующих переменных.

**Примеры:**

```php
$var1 = "";
$var2 = 0;
$var3 = "0";
$var4 = null;

var_dump(empty($var1)); // true
var_dump(empty($var2)); // true
var_dump(empty($var3)); // true (особый случай!)
var_dump(empty($var4)); // true
var_dump(empty($undeclared)); // true (без warning!)
```

---

### 4. Ключевые различия isset() vs empty()

| Ситуация                | `isset()` | `empty()` |
| ----------------------- | --------- | --------- |
| Переменная не объявлена | false     | **true**  |
| `$var = null`           | false     | **true**  |
| `$var = ""`             | true      | **true**  |
| `$var = "0"`            | true      | **true**  |
| `$var = 0`              | true      | **true**  |
| `$var = "Hello"`        | true      | false     |
| `$var = 1`              | true      | false     |

**Особый случай "0":**  
Строка `"0"` считается пустой из-за автоматического преобразования типов:

```php
if ("0") {
    // никогда не выполнится, так как "0" == false
}
```

---

### 5. Практическое применение: Защита от пустых элементов

**Проблема:**  
Если выводить переменную без проверки:

```php
// Если $pageTitle = ""
echo "<h1>$pageTitle</h1>";
```

Результат: `<h1></h1>` (пустой элемент, ломает верстку)

**Решение: Комбинированная проверка**

```php
if (!empty($pageTitle)) {
    echo "<h1>$pageTitle</h1>";
}
```

Эквивалентно более сложной проверке:

```php
if (isset($pageTitle) && $pageTitle !== "") {
    // ...
}
```

**Почему empty() лучше:**

1. Проверяет и существование, и значение
2. Короче и читабельнее
3. Защищает от всех "пустых" значений

---

### 6. Удаление переменных: unset()

**Для чего:** Полное удаление переменной из памяти.

**Как работает:**

1. Удаляет переменную из символьной таблицы
2. Освобождает память (если на переменную нет других ссылок)
3. После `unset()`:
   - `isset()` вернет `false`
   - `empty()` вернет `true`

**Пример:**

```php
$pageTitle = "Test";
unset($pageTitle);

var_dump(isset($pageTitle)); // false
var_dump(empty($pageTitle)); // true
```

**Отличие от присваивания null:**

```php
$a = null;  // Переменная существует, значение null
isset($a);  // false

unset($a);  // Переменная полностью удалена
isset($a);  // false (но теперь это другая проверка)
```

---

### 7. Важные технические детали

1. **Языковые конструкции, а не функции:**

   - `isset()`, `empty()`, `unset()` обрабатываются парсером PHP особым образом
   - Не требуют скобок для параметров (можно писать `isset $var`)
   - Не вызывают ошибок для несуществующих переменных

2. **Поведение при цепочной проверке:**

   ```php
   isset($a, $b, $c); // true только если ВСЕ переменные существуют
   ```

3. **Проверка элементов массива:**
   ```php
   // Безопасная проверка
   if (empty($_POST['username'])) {
       // обработка отсутствия данных
   }
   ```

---

### Итоговая таблица использования

| Сценарий                      | Рекомендуемый подход |
| ----------------------------- | -------------------- |
| Проверка существования        | `isset($var)`        |
| Проверка на "не пустоту"      | `!empty($var)`       |
| Проверка на пустое значение   | `empty($var)`        |
| Полное удаление переменной    | `unset($var)`        |
| Проверка конкретного значения | `$var === ""`        |

Эти конструкции критически важны для:

- Обработки пользовательского ввода
- Работы с необязательными параметрами
- Предотвращения ошибок "Undefined variable"
- Оптимизации кода и памяти
